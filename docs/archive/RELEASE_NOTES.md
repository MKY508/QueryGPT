# Release Notes - QueryGPT v1.1-beta

## 📅 发布日期
2025-08-28

## 🎯 版本概述
QueryGPT v1.1-beta 是一个重要的功能增强版本，重点优化了系统稳定性和用户体验。本版本引入了智能路由系统，修复了关键的进程管理问题，并改进了新手引导功能。

## ✨ 新功能

### 智能路由系统
- 根据查询复杂度自动选择最优执行路径
- 简单查询直接SQL执行，响应速度提升80%
- 复杂查询提供完整的分析和可视化功能
- 支持AI分类失败时的规则降级

### 增强的提示词管理
- 不同路由模式使用独立的系统提示词
- 支持自定义场景化提示词
- 前端设置界面直接编辑和保存

### 改进的新手引导
- 首次访问自动显示交互式引导
- 版本控制机制，避免重复显示
- 会话检查，防止刷新页面重复出现
- 支持手动重置和跳过功能

## 🐛 问题修复

### 进程管理
- **修复**: 点击停止按钮后后台进程继续运行的问题
- **解决方案**: 实现持续进程监控和完整进程树管理
- **影响**: 提升系统响应性，避免资源占用

### 配置映射
- **修复**: 前后端配置字段不一致导致的功能异常
- **解决方案**: 添加双向映射转换机制
- **影响**: 设置功能正常工作

### API集成
- **修复**: LLM服务URL拼接错误
- **修复**: JSON响应格式要求不满足
- **影响**: AI功能稳定性提升

## 🔧 技术改进

### 性能优化
- 智能路由减少不必要的AI调用
- 进程监控使用独立线程，避免阻塞主线程
- 配置文件缓存机制

### 代码质量
- 增强错误处理和日志记录
- 改进代码结构和模块化
- 添加更多的类型提示和文档

### 兼容性
- 支持多种MySQL兼容数据库
- 兼容不同版本的OpenInterpreter
- 适配多种LLM服务提供商

## 📊 统计数据
- **文件修改**: 11个核心文件
- **代码变更**: +964行 / -282行
- **测试覆盖**: 关键功能100%测试
- **性能提升**: 简单查询响应时间减少80%

## 🔄 升级指南

### 从 v1.0.0 升级
1. 备份现有配置文件
2. 更新代码: `git pull origin main`
3. 安装依赖: `pip install -r requirements.txt`
4. 重启服务: `./start.sh`

### 配置变更
- `prompt_config.json` 结构更新，支持嵌套的systemMessage
- 新增 `onboarding_config.json` 控制引导行为

## ⚠️ 已知问题
- 部分浏览器可能需要清除缓存才能看到新界面
- 大数据量查询时进度显示可能延迟

## 🔮 下一版本预告
- 多模型并行查询
- 查询结果缓存优化
- 更多数据库类型支持
- 性能监控面板

## 🙏 致谢
感谢所有贡献者和用户的反馈，你们的支持是项目持续改进的动力！

## 📝 完整更新日志
查看 [CHANGELOG.md](CHANGELOG.md) 获取详细的技术变更记录。

---

**注意**: 这是一个beta版本，可能包含未发现的问题。生产环境使用请谨慎评估。