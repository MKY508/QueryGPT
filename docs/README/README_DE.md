<div align="center">
  
  <img src="../images/logo.png" width="400" alt="QueryGPT">
  
  <br/>
  
  <p>
    <a href="../README.md">English</a> â€¢
    <a href="README_CN.md">ç®€ä½“ä¸­æ–‡</a> â€¢
    <a href="#">Deutsch</a>
  </p>
  
  <br/>
  
  [![License](https://img.shields.io/badge/Lizenz-MIT-yellow.svg?style=for-the-badge)](LICENSE)
  [![Python](https://img.shields.io/badge/Python-3.10+-blue.svg?style=for-the-badge&logo=python&logoColor=white)](https://www.python.org/)
  [![OpenInterpreter](https://img.shields.io/badge/OpenInterpreter-0.4.3-green.svg?style=for-the-badge)](https://github.com/OpenInterpreter/open-interpreter)
  [![Stars](https://img.shields.io/badge/Stars-MKY508/QueryGPT-yellow.svg?style=for-the-badge&color=yellow)](https://github.com/MKY508/QueryGPT/stargazers)
  
  <br/>
  
  <h3>Ein intelligenter Datenanalyse-Agent basierend auf OpenInterpreter</h3>
  <p><i>Kommunizieren Sie mit Ihrer Datenbank in natÃ¼rlicher Sprache</i></p>
  
</div>

## âœ¨ Kernvorteile

**Denkt wie ein Datenanalyst**
- **Autonome Exploration**: Untersucht proaktiv Tabellenstrukturen und Beispieldaten bei Problemen
- **Mehrfache Validierung**: ÃœberprÃ¼ft erneut bei Anomalien, um genaue Ergebnisse sicherzustellen
- **Komplexe Analyse**: Nicht nur SQL, kann Python fÃ¼r statistische Analysen und maschinelles Lernen ausfÃ¼hren
- **Sichtbares Denken**: Echtzeit-Anzeige des Reasoning-Prozesses des Agents (Chain-of-Thought)

## ğŸ“¸ System-Screenshots

<img src="../images/agent-thinking-en.png" width="100%" alt="QueryGPT Interface"/>

**Echtzeit-Anzeige des KI-Denkprozesses, komplexe Datenanalyse durch GesprÃ¤che auf Deutsch.**

---

<img src="../images/data-visualization-en.png" width="100%" alt="Data Visualization"/>

**Automatische Generierung interaktiver Diagramme, Dateninsights auf einen Blick.**

---

<img src="../images/developer-view-en.png" width="100%" alt="Developer View"/>

**VollstÃ¤ndig transparente Code-AusfÃ¼hrung, unterstÃ¼tzt SQL und Python als Doppel-Engine.**

## ğŸŒŸ Funktionen

### Agent-KernfÃ¤higkeiten
- **Autonome Datenexploration**: Agent versteht proaktiv Datenstrukturen und erkundet Datenbeziehungen
- **Mehrfaches Reasoning**: Wie ein Analyst, untersucht Probleme tiefgrÃ¼ndig
- **Chain-of-Thought**: Echtzeit-Anzeige des Agent-Denkprozesses, kann jederzeit eingreifen und korrigieren
- **KontextgedÃ¤chtnis**: Versteht GesprÃ¤chsverlauf, unterstÃ¼tzt kontinuierliche mehrfache Analysen

### DatenanalysefÃ¤higkeiten
- **SQL + Python**: Nicht auf SQL beschrÃ¤nkt, kann komplexe Python-Datenverarbeitung ausfÃ¼hren
- **Statistische Analyse**: Automatische Korrelationsanalyse, Trendvorhersage, Anomalieerkennung
- **GeschÃ¤ftsterminologie**: Natives VerstÃ¤ndnis von Konzepten wie MoM, YoY, Retention, Repurchase
- **Intelligente Visualisierung**: WÃ¤hlt automatisch den besten Diagrammtyp basierend auf Datenmerkmalen

### Systemfunktionen
- **Multi-Modell-UnterstÃ¼tzung**: GPT-5, Claude, Gemini, Ollama lokale Modelle frei wechseln
- **Flexible Bereitstellung**: UnterstÃ¼tzt Cloud-API oder Ollama lokale Bereitstellung, Daten verlassen nie das Haus
- **Verlaufsaufzeichnung**: Speichert Analyseprozesse, unterstÃ¼tzt RÃ¼ckverfolgung und Freigabe
- **Datensicherheit**: Nur-Lese-Berechtigungen, SQL-Injection-Schutz, sensible Datenmaskierung
- **Flexible Exporte**: UnterstÃ¼tzt Excel, PDF, HTML und andere Formate

## ğŸ“¦ Technische Anforderungen

- Python 3.10.x (erforderlich, OpenInterpreter 0.4.3 AbhÃ¤ngigkeit)
- MySQL oder kompatible Datenbank

> Windows: Bitte in WSL ausfÃ¼hren (fÃ¼hren Sie Skripte nicht direkt in PowerShell/CMD aus).

## ğŸ“Š Produktvergleich

| Vergleichsdimension | **QueryGPT** | Vanna AI | DB-GPT | TableGPT | Text2SQL.AI |
|---------------------|:------------:|:--------:|:------:|:--------:|:-----------:|
| **Kosten** | **âœ… Kostenlos** | â­• Hat kostenpflichtige Version | âœ… Kostenlos | âŒ Kostenpflichtig | âŒ Kostenpflichtig |
| **Open Source** | **âœ…** | âœ… | âœ… | âŒ | âŒ |
| **Lokale Bereitstellung** | **âœ…** | âœ… | âœ… | âŒ | âŒ |
| **Python-Code ausfÃ¼hren** | **âœ… VollstÃ¤ndige Umgebung** | âŒ | âŒ | âŒ | âŒ |
| **VisualisierungsfÃ¤higkeit** | **âœ… Programmierbar** | â­• Voreingestellte Diagramme | âœ… Reiche Diagramme | âœ… Reiche Diagramme | â­• Basis |
| **GeschÃ¤ftsterminologie-VerstÃ¤ndnis** | **âœ… Native** | â­• Basis | âœ… Gut | âœ… Ausgezeichnet | â­• Basis |
| **Agent autonome Exploration** | **âœ…** | âŒ | â­• Basis | â­• Basis | âŒ |
| **Echtzeit-Denkanzeige** | **âœ…** | âŒ | âŒ | âŒ | âŒ |
| **ErweiterungsfÃ¤higkeit** | **âœ… Unbegrenzte Erweiterung** | âŒ | âŒ | âŒ | âŒ |

### Unsere Kernunterschiede
- **VollstÃ¤ndige Python-Umgebung**: Keine voreingestellten Funktionen, sondern eine echte Python-AusfÃ¼hrungsumgebung, in der Sie jeden Code schreiben kÃ¶nnen
- **Unbegrenzte Erweiterbarkeit**: BenÃ¶tigen Sie neue Funktionen? Installieren Sie einfach neue Bibliotheken, mÃ¼ssen nicht auf Produkt-Updates warten
- **Agent autonome Exploration**: Untersucht proaktiv bei Problemen, nicht nur einfache einmalige Abfragen
- **Transparenter Denkprozess**: Sehen Sie in Echtzeit, was die KI denkt, kÃ¶nnen jederzeit eingreifen und leiten
- **Wirklich kostenlos und Open Source**: MIT-Lizenz, keine Paywall

## ğŸš€ Schnellstart

### Erste Verwendung

```bash
# 1. Projekt klonen
git clone https://github.com/MKY508/QueryGPT.git
cd QueryGPT

# 2. Installationsskript ausfÃ¼hren (konfiguriert automatisch die Umgebung)
./setup.sh

# 3. Service starten
./start.sh
```

### SpÃ¤tere Verwendung

```bash
# Direkt starten (Umgebung bereits installiert)
./start.sh
```

Der Service lÃ¤uft standardmÃ¤ÃŸig auf http://localhost:5000

> **Hinweis**: Wenn Port 5000 belegt ist (z.B. macOS AirPlay), wÃ¤hlt das System automatisch den nÃ¤chsten verfÃ¼gbaren Port (5001-5010) und zeigt beim Start den tatsÃ¤chlich verwendeten Port an.

## âš™ï¸ Konfigurationsanleitung

### Grundkonfiguration

1. **Umgebungskonfigurationsdatei kopieren**
   ```bash
   cp .env.example .env
   ```

2. **Bearbeiten Sie die .env-Datei und konfigurieren Sie Folgendes**
   - `OPENAI_API_KEY`: Ihr OpenAI API-SchlÃ¼ssel
   - `OPENAI_BASE_URL`: API-Endpunkt (optional, verwendet standardmÃ¤ÃŸig den offiziellen Endpunkt)
   - Datenbankverbindungsinformationen

### Semantische Schichtkonfiguration (Optional)

Die semantische Schicht verbessert das VerstÃ¤ndnis von GeschÃ¤ftsterminologie und hilft dem System, Ihre GeschÃ¤ftssprache besser zu verstehen. **Dies ist eine optionale Konfiguration, die Nicht-Konfiguration beeintrÃ¤chtigt nicht die Grundfunktionen.**

1. **Beispieldatei kopieren**
   ```bash
   cp backend/semantic_layer.json.example backend/semantic_layer.json
   ```

2. **Konfiguration entsprechend Ihren GeschÃ¤ftsanforderungen Ã¤ndern**
   
   Die semantische Schichtkonfiguration enthÃ¤lt drei Teile:
   - **Datenbankzuordnung**: Definiert die GeschÃ¤ftsbedeutung der Datenbank
   - **Kern-GeschÃ¤ftstabellen**: Ordnet wichtige GeschÃ¤ftstabellen und -felder zu
   - **Schnellsuchindex**: Schnellsuche fÃ¼r gÃ¤ngige Begriffe

3. **Konfigurationsbeispiel**
   ```json
   {
     "Kern-GeschÃ¤ftstabellen": {
       "Bestellverwaltung": {
         "Tabellenpfad": "database.orders",
         "SchlÃ¼sselwÃ¶rter": ["Bestellung", "Verkauf", "Transaktion"],
         "Erforderliche Felder": {
           "order_id": "Bestellnummer",
           "amount": "Betrag"
         }
       }
     }
   }
   ```

> **Hinweis**: 
> - Die semantische Schichtdatei enthÃ¤lt geschÃ¤ftssensible Informationen und wurde zu `.gitignore` hinzugefÃ¼gt, wird nicht zur Versionskontrolle Ã¼bermittelt
> - Wenn die semantische Schicht nicht konfiguriert ist, verwendet das System die Standardkonfiguration und kann weiterhin normal Datenabfragen durchfÃ¼hren
> - FÃ¼r detaillierte Konfigurationsanweisungen siehe [backend/SEMANTIC_LAYER_SETUP.md](backend/SEMANTIC_LAYER_SETUP.md)

## ğŸ“ Projektstruktur

```
QueryGPT/
â”œâ”€â”€ backend/              # Backend-Service
â”‚   â”œâ”€â”€ app.py           # Flask-Anwendungshaupteinstieg
â”‚   â”œâ”€â”€ database.py      # Datenbankverbindungsverwaltung
â”‚   â”œâ”€â”€ interpreter_manager.py  # Abfrage-Interpreter
â”‚   â”œâ”€â”€ history_manager.py      # Verlaufsverwaltung
â”‚   â””â”€â”€ config_loader.py        # Konfigurationslader
â”œâ”€â”€ frontend/            # Frontend-Interface
â”‚   â”œâ”€â”€ templates/       # HTML-Vorlagen
â”‚   â””â”€â”€ static/          # Statische Ressourcen
â”‚       â”œâ”€â”€ css/         # Styling-Dateien
â”‚       â””â”€â”€ js/          # JavaScript
â”œâ”€â”€ docs/                # Projektdokumentation
â”œâ”€â”€ logs/                # Protokolldirectory
â”œâ”€â”€ output/              # Ausgabedateien
â”œâ”€â”€ requirements.txt     # Python-AbhÃ¤ngigkeiten
â””â”€â”€ .env.example         # Konfigurationsbeispiel
```

## ğŸ”Œ API-Schnittstellen

### Abfrage-Schnittstelle

```http
POST /api/chat
Content-Type: application/json

{
  "message": "Gesamtumsatz dieses Monats abfragen",
  "model": "default"
}
```

### Verlauf

```http
GET /api/history/conversations    # Verlaufsliste abrufen
GET /api/history/conversation/:id # Details abrufen
DELETE /api/history/conversation/:id # Datensatz lÃ¶schen
```

### GesundheitsprÃ¼fung

```http
GET /api/health
```

## ğŸ”’ Sicherheitshinweise

- UnterstÃ¼tzt nur schreibgeschÃ¼tzte Abfragen (SELECT, SHOW, DESCRIBE)
- Filtert automatisch gefÃ¤hrliche SQL-Anweisungen
- Datenbankbenutzer sollten mit schreibgeschÃ¼tzten Berechtigungen konfiguriert werden

## ğŸ“„ Lizenz

MIT License - Siehe [LICENSE](LICENSE) Datei fÃ¼r Details

## ğŸ†• Neueste Updates

- 2025-09-05 â€“ Startgeschwindigkeitsoptimierung: Entfernt automatischen Batch-Test beim ersten Betreten der Modellseite, reduziert unnÃ¶tige Anfragen und vermeidet falsche Status-SchreibvorgÃ¤nge.

## ğŸ‘¨â€ğŸ’» Autor

- **Autor**: Mao Kaiyue
- **GitHub**: [@MKY508](https://github.com/MKY508)
- **Erstellungsdatum**: August 2025

## â­ Star History

<div align="center">
  <a href="https://star-history.com/#MKY508/QueryGPT&Date">
    <picture>
      <source media="(prefers-color-scheme: dark)" srcset="https://api.star-history.com/svg?repos=MKY508/QueryGPT&type=Date&theme=dark" />
      <source media="(prefers-color-scheme: light)" srcset="https://api.star-history.com/svg?repos=MKY508/QueryGPT&type=Date" />
      <img alt="Star History Chart" src="https://api.star-history.com/svg?repos=MKY508/QueryGPT&type=Date" />
    </picture>
  </a>
</div>

## ğŸ¤ Beitragen

Willkommen zum Einreichen von Issues und Pull Requests.

1. Forken Sie dieses Projekt
2. Erstellen Sie einen Feature-Branch (`git checkout -b feature/AmazingFeature`)
3. Committen Sie Ihre Ã„nderungen (`git commit -m 'Add some AmazingFeature'`)
4. Pushen Sie zum Branch (`git push origin feature/AmazingFeature`)
5. Ã–ffnen Sie einen Pull Request
